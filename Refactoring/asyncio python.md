___
Асинхронное программирование в Python реализуется с помощью модуля asyncio. 
В Python асинхронность приходится на один поток и полностью блокирует другое исполнение, если оно не синронизированно с асинхронным циклом. 

Для определения сопрограммы используется async def
Сопрограмма создается через loop.create_task(func()) - создается корутин. 
Каждая сопрограмма должна await'нуться!!! В противном случае не получится добавлять задачи в цикл во время нахождения в самом цикле - т.е. из сопрограмм. 

Если не сделать await, то сопрограмма создатся, но не будет ожидаться. В таком случае создается future (пустой объект, который в будущем должен принять значение и сигнализировать об этом) - и если он не ожидается, то блок кода продолжит свое выполнение. Это может стать причиной ошибки, если объект future используется в дальнейшем коде (явно или неявно). Тем не менее, такой подход может иметь место, если мы хотим асинхронно исполнить какую-то задачу, которая, например, сделает вывод в консоль или прочее, что не потребуется непосредственно в рамках работы приложения. 

await также является точкой возбуждения исключений. Если await не прописана, задача нигде не сохранена (например, не сохранена в массиве), то исключение не будет обработано и при его возникновении выведется соответствующая ошибка. В это же время, если await прописано, то оно является этой самой точкой - если прописать над ним блок try/catch, то исключение будет обработано по той логике, по которой действует обработчик. 
___
[[Code]]:
```
import asyncio


async def func1(dop: bool):
    loop = asyncio.get_event_loop()
    if dop:
        new_task = loop.create_task(func2())
        await new_task
    print("it is func1")


async def func2():
    print("it is func2")


async def main(vars):
    loop = asyncio.get_event_loop()
    tasks = [loop.create_task(func1(var)) for var in vars]

    await asyncio.gather(*tasks)


if __name__ == "__main__":
    vars = [0, 0, 1, 0]
    loop = asyncio.new_event_loop()
    loop.run_until_complete(main(vars))
```
___
Language: [[Python]]
Key-words:  [[Asyncio]]
Question query?: Асинхронное программирование (асинхронность) в Python. 