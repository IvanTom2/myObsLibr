Алгоритм эффективно работает при сортировке небольшого количества элементов. 

Сортировка вставкой напоминает способ сортировки имеющихся карт на руках. Пусть вначале в левой руке нет ни одной карты и все они лежат на столе рубашкой вверх. Далее со стола берется по одной карте, каждая из которых помещается в нужное место среди карт, которые находятся в левой руке. Чтобы определить, куда нужно поместить очередную карту, ее масть и достоинство сравниваются с мастью и достоинством карт в руке. При этом мы предполагаем, что сортируем карты слева направо по увеличению значения карты. 
![[Pasted image 20230903134946.png]]

Алгоритм сортирует выходные числа ***на месте***, без привлечения дополнительной памяти: он выполняет перестановку числе в пределах массива А и объем постоянно используемой памяти в любой момент выполнения алгоритма не превышает некоторую постоянную величину. 

Напоминает сортировку игральных карт. Вначале в левой руке нет ни одной карты: они все лежат на столе рубашкой вверх. Далее по вынимается по одной карте, каждая из которых помещается в нужное место среди как по достоинству и масти.  

___
```
pseudo-code
INSERTION SORT(A):
	\\ A[1, n] - массив
	\\ A.length - количество элементов в массиве
	
	for j=2 to A.length:
		key = A[j]
		// Вставка A[j] в отсортированную
		// последовательность A[1, .., j-1]
		i = j - 1
		
		while i > 0 and A[i] > key:
			A[i+1] = A[i]
			i = i - 1
			
		A[i+1] = key

	return A
```

> Стоит заметить, что сортировка начинается не с первого элемента массива, а со второго. 

> Если в цикле `for` получается ситуация, что `key` является самым большим среди предыдущих, то по условию `A[i+1] = key` он просто перезапишет сам себя и ничего более. 

***Инвариант цикла***:
В начале каждой итерации цикла `for` алгоритма `INSERTION SORT`, подмассив $A[1, ..., j-1]$ состоит из элементов, которые изначально находились в $A[1, ..., j-1]$, но теперь расположены в ***отсортированном порядке***. 

___
Relations: [[Алгоритмы сортировки]] [[Инвариант цикла]] 
Tags: #theory 
References: [[Алгоритмы построение и анализ Кормен]] 
Query: 