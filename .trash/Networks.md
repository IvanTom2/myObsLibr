Соединение компьютеров в сети происходит сложным образом.

Каждое устройство имеет IP адрес и MAC адрес. Для установления связи в сети, где присутствует более двух устройств (например, локальный комп, DNS сервер и сервер по типу Web) необходимо знать не только IP, но и MAC для установления связи. 

Структура установления связи осложняется с появлением DNS. Т.к. DNS - это просто имя, а для установления соединения необходимо именно IP, клиент сначала должен узнать у DNS сервера IP имени, к которому он хочет обратиться. 

Но! Помимо этого, на каждом клиенте существует файл hosts, который является более приоритетным при определении IP какого-то имени. То есть, если IP какого-либо DNS определено в hosts, то клиент будет обращаться именно по этому IP. Такая особенность является одним из слабых мест и злоумышленник может воспользоваться этим, изменив в файле hosts IP для DNS на зловредный. 

Таким образом, клиент устанавливает соединение пошагово:
1. Определяется MAC адрес DNS сервера через протокол ARP. 
2. После определения MAC, на DNS сервер отправляется запрос об IP какого-либо имени. 
3. После получения IP, клиент повторно использует ARP протокол для определения MAC устройства, IP которого он получил. 
4. После получения MAC, клиент использует TCP протокол для установления соединения с сервером. 
5. После установки соединения с сервером, клиент отправляет на него HTTP\HTTPS запрос и в конечном итоге получает какой-то ответ - обычно данные, необходимые для формирования web- страницы. 