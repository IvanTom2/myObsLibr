У любого Docker-контейнера есть особенность с сохранением данных. Если создать контейнер, запустить его и остановить - то данные будут сохранены при следующем `start` контейнера. 

Тем не менее, ***данные могут быть утеряны при удалении контейнера***. Такое может случаться даже с обновлениями программы, потому что каждая новая версия - это новый контейнер. Особенно актуально при использовании программ не указания конкретной версии (latest по дефолту) - в таком случае каждый раз будет создаваться новый контейнер. 

Для того, чтобы сохранять данные, необходимо смонтировать определенные директории на сервере в Docker-контейнере. Иными словами, необходимо соединить директории в контейнере и на сервере. 

Есть 3 способа замаунтить директории в контейнере и на сервере:
1. Host Volumes. `docker run -v /opt/mysql_data:/var/lib/mysql mysql`. Здесь слева записана директория на сервере, а справа директория в Docker-контейнере. 
2. Anonymous Volumes. `docker run -v /var/lib/mysql mysql`. В таком случае задана лишь одна директория - директория Docker-контейнера. Директория на сервере определяется автоматически. Обычно находятся под `/var/lib/docker/volumes/HASH/_data`. ***Удаляется вместе с контейнером***. 
3. Named volumes. `docker run -v mysql_data:/var/lib/mysql mysql`. В таком случае создается именованная директория также под `/var/lib/docker/volumes/mysql_data/_data`. 

___
```
// какие volumes есть
docker volumes ls

// отдельно создать volume можно так
docker volume create volume_name

// удалить volume
docker volume rm volume_name



```
___
Зачем это нужно: [[]] 
Примеры применения: [[]] 
Основные ошибки: [[]]
___
Relations: [[Docker]] [[Контейнеры Docker]] 
Tags: #code
References: 
Query: 